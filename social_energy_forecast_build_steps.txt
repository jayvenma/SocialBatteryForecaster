Social Energy Forecast — Build Steps (Recommended Order)
Domain: SocialBatteryForecaster.xyz
Stack: Python-centric (FastAPI backend). Frontend generated by ChatGPT and served from FastAPI.

0) Repo + Local Dev Setup
- Create repo with /backend and /frontend (or serve frontend from /backend/static).
- Add .env support, logging, and a simple Makefile or scripts:
  - run dev server, format, lint, test.
- Decide storage for MVP:
  - SQLite (recommended for hackathon) to store onboarding score + settings + cached event summaries.

1) Define the Data Model + Scoring Contracts (before coding UI)
- Define “Personality Score” (0–100) and derived label thresholds:
  - Introvert: 0–39, Omnivert: 40–60, Extrovert: 61–100 (adjust later).
- Define event “types” used by scoring:
  - meeting, one_on_one, social, call, async, solo, custom.
- Define modifiers you’ll support in MVP:
  - duration, back_to_back, role (lead/attend/listen), familiarity, control (optional/mandatory), environment (high stimulation).
- Write down the scoring function signature:
  - score_event(event, personality_score, modifiers) -> impact_points + explanation.

2) FastAPI Skeleton (API-first)
- Create FastAPI app with:
  - health endpoint: GET /health
  - static file serving for frontend
  - basic settings/config loading (GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET, BASE_URL, etc.)

3) Google OAuth (Login) + Token Storage
- Implement Google OAuth flow for web app:
  - /auth/login
  - /auth/callback
  - /auth/logout
- Store refresh/access tokens securely for MVP:
  - SQLite table keyed by user id (Google sub) or session id.
- Start with read-only calendar scope for easier iteration.

4) Calendar Read: Pull Events + Normalize to Your Internal Event Schema
- Implement GET /api/calendar/events?start=...&end=...
- Map Google Calendar fields to your event schema:
  - title/summary, start/end, attendees count, location, description, organizer, conferenceData (if available).
- Apply “type inference” rules (MVP):
  - attendees >= 6 -> meeting (large)
  - attendees 2–5 -> meeting (small)
  - attendees == 1 -> one_on_one
  - no attendees -> solo (or custom)
- Return events + computed impact + explanation.

5) Scoring Engine (Core IP) + Unit Tests
- Implement the actual scoring code in Python:
  - base cost by type
  - duration scaling
  - back-to-back boost
  - personality multiplier derived from personality_score
  - produce a short human-readable explanation (for trust/UI transparency)
- Add tests for:
  - threshold behaviors (intro/extro/omnivert)
  - back-to-back stacking
  - duration scaling correctness

6) Frontend V1: “Dashboard First” (fast demo value)
- Home/Dashboard:
  - big battery meter (current)
  - forecast timeline (next 4–8 hours)
  - event list (minimal, no message content)
- Settings entry point:
  - view current label + personality score

7) Onboarding Wizard (Personality Score)
- Create onboarding flow screens:
  1) Welcome + privacy
  2) 10–12 questions (Likert scale)
  3) Results: show label + “personality score”
  4) Confirm or Retake
- Backend endpoints:
  - POST /api/onboarding/submit (stores score)
  - POST /api/onboarding/retake (clears or overwrites score)
  - GET /api/me (returns score + label)

8) Calendar Field Mapping Improvements (make it feel “smart”)
- Add inference improvements:
  - detect “call” when conference link present or title includes “call/zoom/meet”
  - detect “social” via user-selected tag or quick label
- Add per-event overrides in UI (MVP):
  - user can change type (meeting/social/etc.) before scoring is finalized (optional).

9) Add Events (Google Calendar Write)
- Upgrade OAuth scopes to include event creation:
  - add calendar write scope needed for inserting events.
- Backend:
  - POST /api/calendar/events
    - takes title, start, end, type, people_count, stimulation flag
    - creates Google Calendar event
    - returns new event + updated forecast
- Frontend:
  - “+ Add event” button
  - quick-create modal
  - live preview: predicted impact before saving
  - confirm dialog before writing to Google Calendar

10) Demo Personas + Judge Mode
- Add 3 demo personas with preset scores + modifiers:
  - “Deep-focus Introvert” (score ~25)
  - “Social Extrovert” (score ~80)
  - “Context Omnivert” (score ~55)
- UI toggle (no login required) for judging:
  - “Try demo mode” -> loads fake calendar + shows forecast instantly.

11) Privacy + Trust UI Polish (important for this theme)
- Add “What we read” panel:
  - event times, titles, attendee counts (no message content)
- Add “Why this score?” explanations:
  - show per-event explanation string from scoring engine
- Allow deleting cached data / disconnecting Google.

12) Deploy + Domain (SocialBatteryForecaster.xyz)
- Deploy FastAPI app (serving frontend) to a host that supports HTTPS.
- Point DNS:
  - A record to server IP or host target
  - CNAME www -> root (or host target)
- Verify OAuth redirect URI matches your domain exactly.
- Smoke test:
  - login
  - fetch events
  - add event
  - forecast updates

Suggested “Hackathon Minimal Slice” (if time is tight)
- OAuth + calendar read
- scoring engine + dashboard
- onboarding score (can be short)
- demo personas (judge mode)
Then add event-creation last.

Notes
- Keep everything “one URL” by serving frontend from FastAPI.
- Store only what you need (score + settings + cached event metadata).
